<%- include("../partials/_header.ejs") %>
<!-- Gallery Section -->
<section id="gallery" class="gallery-section py-5">
    <div class="container">
      <!-- Title and Description -->
      <div class="row text-center mb-5">
        <div class="col-lg-12" data-aos="fade-up">
          <h2 class="section-title">Gallery</h2>
          <p class="section-description">Explore the beauty of our guest house through our gallery.</p>
        </div>
      </div>
  
      <!-- Filter Buttons -->
      <div class="row text-center mb-4">
        <div class="col">
          <button class="btn btn-outline-primary filter-btn active" data-filter="all">All</button>
        </div>
        <div class="col">
          <button class="btn btn-outline-primary filter-btn" data-filter="rooms">Rooms</button>
        </div>
        <div class="col">
          <button class="btn btn-outline-primary filter-btn" data-filter="facilities">Facilities</button>
        </div>
        <div class="col">
          <button class="btn btn-outline-primary filter-btn" data-filter="functions">Functions</button>
        </div>
      </div>
  
      <!-- Gallery Grid -->
      <div class="row gallery-grid">
        <!-- Gallery Item 1: Room -->
        <div class="col-md-3 gallery-item all rooms" data-aos="fade-up">
          <img src="assets/hero/hero-2.webp" class="img-fluid" alt="Room 1" data-index="0" data-toggle="modal" data-target="#imageModal">
        </div>
        <!-- Gallery Item 2: Room -->
        <div class="col-md-3 gallery-item all rooms" data-aos="fade-up">
          <img src="assets/hero/hero-2.webp" class="img-fluid" alt="Room 2" data-index="1" data-toggle="modal" data-target="#imageModal">
        </div>
        <!-- Gallery Item 3: Facility -->
        <div class="col-md-3 gallery-item all facilities" data-aos="fade-up">
          <img src="assets/hero/hero-1.webp" class="img-fluid" alt="Facility 1" data-index="2" data-toggle="modal" data-target="#imageModal">
        </div>
        <!-- Gallery Item 4: Function -->
        <div class="col-md-3 gallery-item all functions" data-aos="fade-up">
          <img src="assets/hero/hero-3.webp" class="img-fluid" alt="Function 1" data-index="3" data-toggle="modal" data-target="#imageModal">
        </div>
        <!-- Add more gallery items here with appropriate categories -->
      </div>
    </div>
  </section>
  
  <!-- Modal for Full Image View -->
  <div class="modal fade" id="imageModal" tabindex="-1" role="dialog" aria-labelledby="imageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-body p-0">
          <div class="modal-image-container">
            <img src="" id="modalImage" class="img-fluid" alt="Gallery Image">
          </div>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <div class="modal-navigation">
            <button id="prevBtn" class="btn btn-dark">Prev</button>
            <button id="nextBtn" class="btn btn-dark">Next</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  // Cache all the gallery items
  var galleryItems = document.querySelectorAll(".gallery-item");
  var filterBtns = document.querySelectorAll(".filter-btn");
  var modal = document.getElementById("imageModal");
  var modalImage = document.getElementById("modalImage");
  var currentIndex = 0; // Variable to track current image in the modal

  // Function to apply filter (Show only relevant items)
  function filterGallery(category) {
    var galleryItems = document.querySelectorAll(".gallery-item");
    galleryItems.forEach(function(item) {
      var categories = item.classList;
      if (categories.contains(category) || category === "all") {
        item.style.display = "block";
      } else {
        item.style.display = "none";
      }
    });
  }

  // Add click event listeners to filter buttons
  filterBtns.forEach(function(btn) {
    btn.addEventListener("click", function() {
      // Remove active class from all buttons and add it to the clicked button
      filterBtns.forEach(function(button) {
        button.classList.remove("active");
      });
      btn.classList.add("active");

      // Filter the gallery based on the button clicked
      var filterCategory = btn.getAttribute("data-filter");
      filterGallery(filterCategory);

      // Add AOS animations on category change
      AOS.refresh();
    });
  });

  // Initialize gallery to show all images by default
  filterGallery("all");

  // Modal functionality
  galleryItems.forEach(function(item, index) {
    var image = item.querySelector("img");
    image.addEventListener("click", function() {
      currentIndex = index; // Set the current index of the clicked image
      modalImage.src = image.src; // Set the source of the image in the modal
      modal.classList.add("show"); // Show the modal by adding the 'show' class
    });
  });

  // Close modal on clicking the close button
  var closeModalBtn = modal.querySelector(".close");
  closeModalBtn.addEventListener("click", function() {
    modal.classList.remove("show"); // Hide the modal by removing the 'show' class
  });

  // Prev button to navigate to the previous image
  var prevBtn = document.getElementById("prevBtn");
  prevBtn.addEventListener("click", function() {
    currentIndex = (currentIndex > 0) ? currentIndex - 1 : galleryItems.length - 1;
    modalImage.src = galleryItems[currentIndex].querySelector("img").src;
  });

  // Next button to navigate to the next image
  var nextBtn = document.getElementById("nextBtn");
  nextBtn.addEventListener("click", function() {
    currentIndex = (currentIndex < galleryItems.length - 1) ? currentIndex + 1 : 0;
    modalImage.src = galleryItems[currentIndex].querySelector("img").src;
  });

  // AOS initialization
  AOS.init({
    duration: 1000,
    once: true
  });
});

</script>  